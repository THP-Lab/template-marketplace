<% primary_links = [
  ["Accueil", root_path],
  ["Boutique", products_path],
  ["Event", events_path],
  ["Réparation", repair_pages_path]
] %>
<% primary_links << ["Admin", admin_root_path] if user_signed_in? && current_user.is_admin? %>

<% auth_links =
    if user_signed_in?
      [
        ["Panier", cart_path(current_user.cart)],
        ["Mon profil", user_path(current_user)],
        ["Sign out", destroy_user_session_path, { data: { turbo_method: :delete } }]
      ]
    else
      [
        ["Sign in", new_user_session_path],
        ["Sign up", new_user_registration_path]
      ]
    end %>

<header class="header-desktop">
  <div class="header-desktop__entries">
    <div class="header-logo">
      <%= link_to "Template Marketplace", root_path, class: "header-link" %>
    </div>
    <nav aria-label="Navigation principale">
      <% primary_links.each do |label, path, options| %>
        <%= link_to label, path, { class: "header-link" }.merge(options || {}) %>
      <% end %>
      <% auth_links.each do |label, path, options| %>
        <%= link_to label, path, { class: "header-link" }.merge(options || {}) %>
      <% end %>
    </nav>
  </div>
</header>

<header class="header-mobile">
  <div class="component-stack" style="width: 100%; gap: 12px; align-items: flex-start;">
    <div class="demo-row" style="width: 100%; justify-content: space-between; align-items: center;">
      <div class="header-logo">
        <%= link_to "Template Marketplace", root_path, class: "header-link" %>
      </div>
      <button class="btn-burger" type="button" aria-label="Menu">
        ☰
      </button>
    </div>
    <nav class="demo-row" aria-label="Navigation principale mobile">
      <% primary_links.each do |label, path, options| %>
        <%= link_to label, path, { class: "header-link" }.merge(options || {}) %>
      <% end %>
      <% auth_links.each do |label, path, options| %>
        <%= link_to label, path, { class: "header-link" }.merge(options || {}) %>
      <% end %>
    </nav>
  </div>
</header>
