<% content_for :title, "Contact" %>
<% content_for :meta_description, "Envoyez vos demandes de devis, personnalisations ou questions via notre formulaire de contact." %>
<% content_for :structured_data do %>
  <%= jsonld_tag(contact_page_schema) %>
<% end %>

<div class="container py-4 mt-4">
  <h1 class="text-center mb-2">Contactez l'Artisan</h1>
  <p class="text-center mb-4">Une question sur mes créations ? Un projet personnalisé ? N'hésitez pas à me contacter.</p>

  <div class="d-flex justify-content-center mb-5" >
    <div class="card card-form p-4">
      <%= form_with model: @contact, url: contacts_path, local: true do |form| %>
        <% if @contact.errors.any? %>
          <div class="alert alert-danger">
            <p><%= pluralize(@contact.errors.count, "erreur") %> ont empêché l’envoi :</p>
            <ul>
              <% @contact.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div class="mt-2">
          <%= form.label :name, "Nom" %>
          <%= form.text_field :name, class: "form-control" %>
        </div>

        <div class="mt-2">
          <%= form.label :email, "Email" %>
          <%= form.email_field :email, class: "form-control" %>
        </div>

        <div class="mt-2">
          <%= form.label :subject, "Sujet" %>
          <%= form.text_field :subject, class: "form-control" %>
        </div>

        <div class="mt-2">
          <%= form.label :message, "Message" %>
          <%= form.text_area :message, rows: 6, class: "form-control" %>
        </div>

        <div class="d-flex justify-content-center mt-3">
          <%= form.submit "Envoyer", class:"btn btn-primary" %>
        </div>
        
      <% end %>
    </div>
  </div>
</div>
